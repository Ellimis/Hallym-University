#define ID_EDIT 100

HWND hEdit;
int nTop = 10;
BOOL bShow = TRUE;

LRESULT CALLBACK WndProc(HWND hWnd, UINT iMessage, WPARAM wParam, LPARAM lParam)
{
	HDC hdc;
	PAINTSTRUCT ps;
	char str[] = "왼쪽 클릭:에디트 이동, 오른쪽 클릭:보임/숨김";
	switch (iMessage) {
	case WM_CREATE:
		hEdit = CreateWindow("edit", NULL, WS_CHILD | WS_VISIBLE | WS_BORDER |
			ES_AUTOHSCROLL, 10, 10, 200, 25, hWnd, (HMENU)ID_EDIT, GetModuleHandle(NULL), NULL);
		SetWindowText(hEdit, "에디트도 윈도우다");
		return 0;
	case WM_LBUTTONDOWN:
		nTop += 10;
		MoveWindow(hEdit, 10, nTop, 200, 25, TRUE);
		return 0;
	case WM_RBUTTONDOWN:
		if (bShow) {
			bShow = FALSE;
			ShowWindow(hEdit, SW_HIDE);
		}
		else {
			bShow = TRUE;
			ShowWindow(hEdit, SW_SHOW);
		}
		return 0;
	case WM_PAINT:
		hdc = BeginPaint(hWnd, &ps);
		TextOut(hdc, 200, 100, str, strlen(str));
		EndPaint(hWnd, &ps);
		return 0;
	case WM_DESTROY:
		PostQuitMessage(0);
		return 0;
	}
	return(DefWindowProc(hWnd, iMessage, wParam, lParam));
}
